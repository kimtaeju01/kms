"use strict";
// Copyright Amazon.com Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
Object.defineProperty(exports, "__esModule", { value: true });
const kms_keyring_1 = require("@aws-crypto/kms-keyring");
exports.getClient = kms_keyring_1.getClient;
exports.limitRegions = kms_keyring_1.limitRegions;
exports.excludeRegions = kms_keyring_1.excludeRegions;
exports.cacheClients = kms_keyring_1.cacheClients;
const material_management_node_1 = require("@aws-crypto/material-management-node");
const aws_sdk_1 = require("aws-sdk");
exports.KMS = aws_sdk_1.KMS;
const getKmsClient = kms_keyring_1.getClient(aws_sdk_1.KMS, {
    customUserAgent: 'AwsEncryptionSdkJavascriptNodejs',
});
exports.getKmsClient = getKmsClient;
const cacheKmsClients = kms_keyring_1.cacheClients(getKmsClient);
exports.cacheKmsClients = cacheKmsClients;
class KmsKeyringNode extends kms_keyring_1.KmsKeyringClass(material_management_node_1.KeyringNode) {
    constructor({ clientProvider = cacheKmsClients, keyIds, generatorKeyId, grantTokens, discovery, } = {}) {
        super({ clientProvider, keyIds, generatorKeyId, grantTokens, discovery });
    }
}
exports.KmsKeyringNode = KmsKeyringNode;
material_management_node_1.immutableClass(KmsKeyringNode);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoia21zX2tleXJpbmdfbm9kZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9rbXNfa2V5cmluZ19ub2RlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxvRUFBb0U7QUFDcEUsc0NBQXNDOztBQUV0Qyx5REFVZ0M7QUFxQzlCLG9CQXpDQSx1QkFBUyxDQXlDQTtBQUNULHVCQXpDQSwwQkFBWSxDQXlDQTtBQUNaLHlCQXpDQSw0QkFBYyxDQXlDQTtBQUNkLHVCQXpDQSwwQkFBWSxDQXlDQTtBQXZDZCxtRkFJNkM7QUFDN0MscUNBQTZCO0FBbUMzQixjQW5DTyxhQUFHLENBbUNQO0FBbENMLE1BQU0sWUFBWSxHQUFHLHVCQUFTLENBQUMsYUFBRyxFQUFFO0lBQ2xDLGVBQWUsRUFBRSxrQ0FBa0M7Q0FDcEQsQ0FBQyxDQUFBO0FBMEJBLG9DQUFZO0FBekJkLE1BQU0sZUFBZSxHQUFHLDBCQUFZLENBQUMsWUFBWSxDQUFDLENBQUE7QUEwQmhELDBDQUFlO0FBakJqQixNQUFhLGNBQWUsU0FBUSw2QkFBZSxDQUNqRCxzQ0FBdUQsQ0FDeEQ7SUFDQyxZQUFZLEVBQ1YsY0FBYyxHQUFHLGVBQWUsRUFDaEMsTUFBTSxFQUNOLGNBQWMsRUFDZCxXQUFXLEVBQ1gsU0FBUyxNQUNjLEVBQUU7UUFDekIsS0FBSyxDQUFDLEVBQUUsY0FBYyxFQUFFLE1BQU0sRUFBRSxjQUFjLEVBQUUsV0FBVyxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUE7SUFDM0UsQ0FBQztDQUNGO0FBWkQsd0NBWUM7QUFDRCx5Q0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFBIn0=